{% extends 'base.html.twig' %}

{% block title %}Administration{% endblock %}

{% block body %}

    <div class="row text-center mt-3">
        <div>
            <h3> <span class="badge bg-secondary ">{{ shop.shopName }}</span></h3>
            <h3> <span class="badge bg-secondary">{{ shop.user.firstname }} {{ shop.user.lastname }}</span></h3>
        </div>
    </div>


    <div class="d-flex justify-content-center">
        <a href="{{ path('admin.new') }}" class="btn btn-primary">Ajouter un produit </a>
    </div>
    <div class="container mt-3 d-flex justify-content-center">
    <table class="table table-dark table-striped">
        <thead>
        <tr class="text-center">

            <th scope="col">Nom du produit</th>
            <th scope="col">Description</th>
            <th scope="col">Image</th>
            <th scope="col">Stock</th>
            <th scope="col">Prix</th>
            <th scope="col">Modification</th>

        </tr>
        </thead>
        <tbody>
        {% for product in products %}
        <tr class="text-center">
            <td>{{ product.productName }}</td>
            <td>{{ product.productDescription|slice(0, 100) }}...</td>
            <td class="col-3"> <img src="{{ asset_product_image(product.productPicture) }}" alt="{{ product.productName }}" class="w-50"></td>
            <td>{{ product.stock }}</td>
            <td>{{ product.price }}â‚¬</td>
            <td>
                <a href="{{ path('admin.edit', {'id':product.id}) }}" class="text-warning me-3"><i class="bi bi-pencil-fill "></i></a>
                <a href="{{ path('admin.remove', {'id':product.id}) }}" class="text-danger"><i class="bi bi-trash-fill"></i></a>
            </td>

        </tr>

        {% endfor %}

        </tbody>
    </table>
    </div>


{% endblock %}
